# éš§é“ä»£ç†åå°ç®¡ç†ç³»ç»Ÿ - å¿«é€Ÿå®æ–½æŒ‡å—

## ç«‹å³å¼€å§‹ï¼ˆ30åˆ†é’Ÿå†…å®ŒæˆåŸºç¡€æ­å»ºï¼‰

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›®ç»“æ„ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# åœ¨å½“å‰proxç›®å½•ä¸‹æ‰§è¡Œ
mkdir -p server/{models,routes,middleware,services,utils}
mkdir -p server/proxy/{config,core,middleware,utils}
mkdir -p web/{public,src/{components,views,router,store,api}}
mkdir -p scripts logs uploads ssl/{certs,keys}
```

### âœ¨ æœ€æ–°ç›®å½•ç»“æ„

é¡¹ç›®å·²å‡çº§ä¸ºæ¨¡å—åŒ–æ¶æ„ï¼ŒåŒ…å«ï¼š
- **åå°ç®¡ç†ç³»ç»Ÿ**: `server/` (Express + MySQL + JWT)
- **é›†æˆå¼å‰ç«¯ç•Œé¢**: `web/public/index.html` (Vue3 + Element Plus CDN)
- **æ¨¡å—åŒ–ä»£ç†æœåŠ¡å™¨**: `server/proxy/` (é‡æ„åçš„ä»£ç†åŠŸèƒ½)
- **æ•°æ®åº“è„šæœ¬**: `scripts/` (å·²åŒ…å«å®Œæ•´åˆå§‹åŒ–)

### ğŸ¨ å‰ç«¯æ¶æ„ç‰¹ç‚¹

âœ… **é›¶æ„å»ºéƒ¨ç½²**: æ— éœ€Webpack/Viteï¼Œç›´æ¥è¿è¡Œ  
âœ… **CDNä¾èµ–**: Vue3 + Element Plus é€šè¿‡CDNå¼•å…¥  
âœ… **å•æ–‡ä»¶åº”ç”¨**: æ‰€æœ‰å‰ç«¯ä»£ç é›†æˆåœ¨ä¸€ä¸ªHTMLæ–‡ä»¶  
âœ… **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡  
âœ… **å®æ—¶çŠ¶æ€**: è‡ªåŠ¨åˆ·æ–°æ•°æ®ï¼ŒçŠ¶æ€åŒæ­¥æ˜¾ç¤º

### ç¬¬äºŒæ­¥ï¼šå®‰è£…åç«¯ä¾èµ–ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# åœ¨proxæ ¹ç›®å½•æ‰§è¡Œ
npm install express sequelize mysql2 jsonwebtoken bcrypt cors dotenv multer

# å¦‚æœéœ€è¦å¼€å‘å·¥å…·
npm install --save-dev nodemon
```

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºç¯å¢ƒé…ç½®ï¼ˆ2åˆ†é’Ÿï¼‰

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=proxy
DB_USER=root
DB_PASSWORD=123456

# æœåŠ¡å™¨é…ç½®
ADMIN_PORT=3000
PROXY_HTTP_PORT=8082
PROXY_HTTPS_PORT=8083

# JWTé…ç½®
JWT_SECRET=your_super_secret_key_here_make_it_long_and_random

# SSLé…ç½®
SSL_CERT_PATH=./ssl/certs/
SSL_KEY_PATH=./ssl/keys/
```

### ç¬¬å››æ­¥ï¼šåˆ›å»ºæ•°æ®åº“ï¼ˆ5åˆ†é’Ÿï¼‰

åˆ›å»º `scripts/init-db.sql`ï¼š
```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS proxy_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE proxy_management;

-- ç®¡ç†å‘˜ç”¨æˆ·è¡¨
CREATE TABLE admin_users (
  id int PRIMARY KEY AUTO_INCREMENT,
  username varchar(50) UNIQUE NOT NULL,
  password varchar(255) NOT NULL,
  role enum('admin', 'viewer') DEFAULT 'admin',
  status enum('active', 'inactive') DEFAULT 'active',
  created_at timestamp DEFAULT CURRENT_TIMESTAMP,
  updated_at timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- ä»£ç†ç”¨æˆ·è¡¨
CREATE TABLE proxy_users (
  id int PRIMARY KEY AUTO_INCREMENT,
  username varchar(50) UNIQUE NOT NULL,
  password varchar(255) NOT NULL,
  status enum('active', 'inactive') DEFAULT 'active',
  max_connections int DEFAULT 10,
  expire_date datetime,
  created_at timestamp DEFAULT CURRENT_TIMESTAMP,
  updated_at timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- ä»£ç†æœåŠ¡å™¨è¡¨
CREATE TABLE proxy_servers (
  id int PRIMARY KEY AUTO_INCREMENT,
  name varchar(100) NOT NULL,
  http_port int NOT NULL,
  https_port int,
  domain varchar(255),
  ssl_enabled boolean DEFAULT false,
  status enum('running', 'stopped') DEFAULT 'stopped',
  created_at timestamp DEFAULT CURRENT_TIMESTAMP,
  updated_at timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- SSLè¯ä¹¦è¡¨
CREATE TABLE ssl_certificates (
  id int PRIMARY KEY AUTO_INCREMENT,
  name varchar(100) NOT NULL,
  domain varchar(255) NOT NULL,
  cert_path varchar(500),
  key_path varchar(500),
  expire_date datetime,
  status enum('active', 'expired') DEFAULT 'active',
  created_at timestamp DEFAULT CURRENT_TIMESTAMP,
  updated_at timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- è¿æ¥æ—¥å¿—è¡¨
CREATE TABLE connection_logs (
  id bigint PRIMARY KEY AUTO_INCREMENT,
  proxy_user_id int,
  client_ip varchar(45),
  target_host varchar(255),
  bytes_sent bigint DEFAULT 0,
  bytes_received bigint DEFAULT 0,
  status enum('success', 'failed') DEFAULT 'success',
  created_at timestamp DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (proxy_user_id) REFERENCES proxy_users(id)
);

-- æ’å…¥é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼ˆå¯†ç ï¼šadmin123ï¼‰
INSERT INTO admin_users (username, password, role) VALUES 
('admin', '$2b$10$rQ8QWVgwKpCZqw.dJj7V8eG.ZJ9wKq1XKXqGHk4Vs9c0cNz0c9V8G', 'admin');

-- æ’å…¥æµ‹è¯•ä»£ç†ç”¨æˆ·
INSERT INTO proxy_users (username, password, max_connections) VALUES 
('test_user', '$2b$10$rQ8QWVgwKpCZqw.dJj7V8eG.ZJ9wKq1XKXqGHk4Vs9c0cNz0c9V8G', 10);

-- æ’å…¥é»˜è®¤ä»£ç†æœåŠ¡å™¨é…ç½®
INSERT INTO proxy_servers (name, http_port, https_port, domain) VALUES 
('é»˜è®¤ä»£ç†æœåŠ¡å™¨', 8082, 8083, 'pox.aipor.cc');
```

æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–ï¼š
```bash
mysql -u root -p < scripts/init-db.sql
```

### ç¬¬äº”æ­¥ï¼šåˆ›å»ºåŸºç¡€åç«¯ä»£ç ï¼ˆ10åˆ†é’Ÿï¼‰

åˆ›å»º `server/app.js`ï¼š
```javascript
require('dotenv').config();
const express = require('express');
const cors = require('cors');
const path = require('path');

const app = express();
const PORT = process.env.ADMIN_PORT || 3000;

// ä¸­é—´ä»¶
app.use(cors());
app.use(express.json());
app.use(express.static(path.join(__dirname, '../web/dist')));

// åŸºç¡€è·¯ç”±
app.get('/api/health', (req, res) => {
  res.json({ status: 'ok', message: 'åå°ç®¡ç†ç³»ç»Ÿè¿è¡Œæ­£å¸¸' });
});

// å¯¼å…¥è·¯ç”±
const authRoutes = require('./routes/auth');
const userRoutes = require('./routes/users');
const proxyRoutes = require('./routes/proxy');

app.use('/api/auth', authRoutes);
app.use('/api/users', userRoutes);
app.use('/api/proxy', proxyRoutes);

// å‰ç«¯è·¯ç”±æ”¯æŒ
app.get('*', (req, res) => {
  res.sendFile(path.join(__dirname, '../web/dist/index.html'));
});

// å¯åŠ¨æœåŠ¡å™¨
app.listen(PORT, () => {
  console.log(`ğŸš€ åå°ç®¡ç†ç³»ç»Ÿå¯åŠ¨æˆåŠŸï¼`);
  console.log(`ğŸ“ ç®¡ç†ç•Œé¢: http://localhost:${PORT}`);
  console.log(`ğŸ”— APIåœ°å€: http://localhost:${PORT}/api`);
});

module.exports = app;
```

åˆ›å»º `server/models/index.js`ï¼š
```javascript
const { Sequelize } = require('sequelize');

const sequelize = new Sequelize({
  host: process.env.DB_HOST,
  port: process.env.DB_PORT,
  database: process.env.DB_NAME,
  username: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  dialect: 'mysql',
  logging: false
});

// æµ‹è¯•æ•°æ®åº“è¿æ¥
sequelize.authenticate()
  .then(() => {
    console.log('âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ');
  })
  .catch(err => {
    console.error('âŒ æ•°æ®åº“è¿æ¥å¤±è´¥:', err);
  });

module.exports = sequelize;
```

åˆ›å»º `server/routes/auth.js`ï¼š
```javascript
const express = require('express');
const bcrypt = require('bcrypt');
const jwt = require('jsonwebtoken');
const sequelize = require('../models');

const router = express.Router();

// ç™»å½•æ¥å£
router.post('/login', async (req, res) => {
  try {
    const { username, password } = req.body;
    
    // æŸ¥è¯¢ç”¨æˆ·
    const [results] = await sequelize.query(
      'SELECT * FROM admin_users WHERE username = ? AND status = "active"',
      { replacements: [username] }
    );
    
    if (results.length === 0) {
      return res.status(401).json({ error: 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯' });
    }
    
    const user = results[0];
    
    // éªŒè¯å¯†ç 
    const isValid = await bcrypt.compare(password, user.password);
    if (!isValid) {
      return res.status(401).json({ error: 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯' });
    }
    
    // ç”ŸæˆToken
    const token = jwt.sign(
      { id: user.id, username: user.username, role: user.role },
      process.env.JWT_SECRET,
      { expiresIn: '24h' }
    );
    
    // æ›´æ–°æœ€åç™»å½•æ—¶é—´
    await sequelize.query(
      'UPDATE admin_users SET updated_at = NOW() WHERE id = ?',
      { replacements: [user.id] }
    );
    
    res.json({
      success: true,
      token,
      user: {
        id: user.id,
        username: user.username,
        role: user.role
      }
    });
  } catch (error) {
    console.error('ç™»å½•é”™è¯¯:', error);
    res.status(500).json({ error: 'ç™»å½•å¤±è´¥' });
  }
});

module.exports = router;
```

åˆ›å»º `server/routes/users.js`ï¼š
```javascript
const express = require('express');
const bcrypt = require('bcrypt');
const sequelize = require('../models');

const router = express.Router();

// è·å–ä»£ç†ç”¨æˆ·åˆ—è¡¨
router.get('/', async (req, res) => {
  try {
    const [results] = await sequelize.query(
      'SELECT id, username, status, max_connections, expire_date, created_at FROM proxy_users ORDER BY created_at DESC'
    );
    res.json({ success: true, data: results });
  } catch (error) {
    res.status(500).json({ error: 'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥' });
  }
});

// åˆ›å»ºä»£ç†ç”¨æˆ·
router.post('/', async (req, res) => {
  try {
    const { username, password, max_connections = 10, expire_date } = req.body;
    
    // å¯†ç åŠ å¯†
    const hashedPassword = await bcrypt.hash(password, 10);
    
    await sequelize.query(
      'INSERT INTO proxy_users (username, password, max_connections, expire_date) VALUES (?, ?, ?, ?)',
      { replacements: [username, hashedPassword, max_connections, expire_date] }
    );
    
    res.json({ success: true, message: 'ç”¨æˆ·åˆ›å»ºæˆåŠŸ' });
  } catch (error) {
    if (error.parent?.code === 'ER_DUP_ENTRY') {
      res.status(400).json({ error: 'ç”¨æˆ·åå·²å­˜åœ¨' });
    } else {
      res.status(500).json({ error: 'åˆ›å»ºç”¨æˆ·å¤±è´¥' });
    }
  }
});

// æ›´æ–°ä»£ç†ç”¨æˆ·
router.put('/:id', async (req, res) => {
  try {
    const { id } = req.params;
    const { username, password, max_connections, expire_date, status } = req.body;
    
    let query = 'UPDATE proxy_users SET username = ?, max_connections = ?, expire_date = ?, status = ?';
    let params = [username, max_connections, expire_date, status];
    
    if (password) {
      const hashedPassword = await bcrypt.hash(password, 10);
      query += ', password = ?';
      params.push(hashedPassword);
    }
    
    query += ' WHERE id = ?';
    params.push(id);
    
    await sequelize.query(query, { replacements: params });
    res.json({ success: true, message: 'ç”¨æˆ·æ›´æ–°æˆåŠŸ' });
  } catch (error) {
    res.status(500).json({ error: 'æ›´æ–°ç”¨æˆ·å¤±è´¥' });
  }
});

// åˆ é™¤ä»£ç†ç”¨æˆ·
router.delete('/:id', async (req, res) => {
  try {
    const { id } = req.params;
    await sequelize.query('DELETE FROM proxy_users WHERE id = ?', { replacements: [id] });
    res.json({ success: true, message: 'ç”¨æˆ·åˆ é™¤æˆåŠŸ' });
  } catch (error) {
    res.status(500).json({ error: 'åˆ é™¤ç”¨æˆ·å¤±è´¥' });
  }
});

module.exports = router;
```

åˆ›å»º `server/routes/proxy.js`ï¼š
```javascript
const express = require('express');
const sequelize = require('../models');

const router = express.Router();

// è·å–ä»£ç†æœåŠ¡å™¨åˆ—è¡¨
router.get('/servers', async (req, res) => {
  try {
    const [results] = await sequelize.query('SELECT * FROM proxy_servers ORDER BY created_at DESC');
    res.json({ success: true, data: results });
  } catch (error) {
    res.status(500).json({ error: 'è·å–æœåŠ¡å™¨åˆ—è¡¨å¤±è´¥' });
  }
});

// è·å–å®æ—¶ç»Ÿè®¡
router.get('/stats', async (req, res) => {
  try {
    // è·å–ç”¨æˆ·æ€»æ•°
    const [userCount] = await sequelize.query('SELECT COUNT(*) as count FROM proxy_users WHERE status = "active"');
    
    // è·å–ä»Šæ—¥è¿æ¥æ•°
    const [todayConnections] = await sequelize.query(
      'SELECT COUNT(*) as count FROM connection_logs WHERE DATE(created_at) = CURDATE()'
    );
    
    // è·å–åœ¨çº¿æœåŠ¡å™¨æ•°
    const [runningServers] = await sequelize.query('SELECT COUNT(*) as count FROM proxy_servers WHERE status = "running"');
    
    res.json({
      success: true,
      data: {
        activeUsers: userCount[0].count,
        todayConnections: todayConnections[0].count,
        runningServers: runningServers[0].count,
        systemStatus: 'running'
      }
    });
  } catch (error) {
    res.status(500).json({ error: 'è·å–ç»Ÿè®¡ä¿¡æ¯å¤±è´¥' });
  }
});

module.exports = router;
```

### ç¬¬å…­æ­¥ï¼šæ›´æ–°package.jsonï¼ˆ2åˆ†é’Ÿï¼‰

æ›´æ–° `package.json` æ·»åŠ å¯åŠ¨è„šæœ¬ï¼š
```json
{
  "name": "lpl-proxy",
  "version": "1.0.0",
  "description": "éš§é“ä»£ç†æœåŠ¡å™¨ - å¸¦åå°ç®¡ç†",
  "main": "server/app.js",
  "scripts": {
    "start": "node server/app.js",
    "dev": "nodemon server/app.js",
    "tunnel": "node tunnel-proxy.js"
  },
  "dependencies": {
    "dotenv": "^16.5.0",
    "express": "^4.18.2",
    "sequelize": "^6.35.0",
    "mysql2": "^3.6.5",
    "jsonwebtoken": "^9.0.2",
    "bcrypt": "^5.1.1",
    "cors": "^2.8.5",
    "multer": "^1.4.5-lts.1"
  },
  "devDependencies": {
    "nodemon": "^3.0.2"
  }
}
```

### ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯•åç«¯ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
# å¯åŠ¨åç«¯æœåŠ¡
npm run dev
```

æµ‹è¯•APIï¼š
```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/health

# æµ‹è¯•ç™»å½•ï¼ˆç”¨æˆ·åï¼šadminï¼Œå¯†ç ï¼šadmin123ï¼‰
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# æµ‹è¯•è·å–ç”¨æˆ·åˆ—è¡¨
curl http://localhost:3000/api/users
```

## ğŸ¨ é›†æˆå¼å‰ç«¯ç•Œé¢ï¼ˆå·²å®Œæˆï¼‰

### å‰ç«¯ç‰¹æ€§æ¦‚è§ˆ

æˆ‘ä»¬çš„å‰ç«¯é‡‡ç”¨**é›†æˆå¼æ¶æ„**ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

âœ… **å®Œæ•´åŠŸèƒ½ç•Œé¢**: ç™»å½•ã€ä»ªè¡¨ç›˜ã€ç”¨æˆ·ç®¡ç†ã€æœåŠ¡å™¨ç®¡ç†ã€æ—¥å¿—æŸ¥çœ‹  
âœ… **é›¶æ„å»ºéƒ¨ç½²**: é€šè¿‡CDNå¼•å…¥Vue3 + Element Plusï¼Œæ— éœ€ç¼–è¯‘  
âœ… **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡  
âœ… **å®æ—¶æ•°æ®**: è‡ªåŠ¨åˆ·æ–°ç»Ÿè®¡æ•°æ®å’ŒæœåŠ¡å™¨çŠ¶æ€  
âœ… **JWTè®¤è¯**: å®Œæ•´çš„å‰åç«¯åˆ†ç¦»è®¤è¯æœºåˆ¶  

### å‰ç«¯ç•Œé¢é¢„è§ˆ

**ğŸ  ä»ªè¡¨ç›˜é¡µé¢**:
- å®æ—¶ç»Ÿè®¡å¡ç‰‡ (ç”¨æˆ·æ•°ã€è¿æ¥æ•°ã€æœåŠ¡å™¨çŠ¶æ€)
- æœåŠ¡å™¨çŠ¶æ€ç›‘æ§
- ç³»ç»Ÿè¿è¡Œæ—¶é—´æ˜¾ç¤º

**ğŸ‘¥ ç”¨æˆ·ç®¡ç†é¡µé¢**:
- ç”¨æˆ·åˆ—è¡¨è¡¨æ ¼ (åˆ†é¡µã€æœç´¢)
- æ·»åŠ /ç¼–è¾‘/åˆ é™¤ç”¨æˆ·åŠŸèƒ½
- ç”¨æˆ·çŠ¶æ€å’Œè¿æ¥æ•°é™åˆ¶ç®¡ç†

**ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç†é¡µé¢**:
- æœåŠ¡å™¨é…ç½®åˆ—è¡¨
- ä¸€é”®å¯åŠ¨/åœæ­¢æœåŠ¡å™¨
- å®æ—¶çŠ¶æ€æ˜¾ç¤º (è¿è¡Œä¸­/å·²åœæ­¢ + è¿›ç¨‹ID)

**ğŸ“Š æ—¥å¿—æŸ¥çœ‹é¡µé¢**:
- è¿æ¥æ—¥å¿—æŸ¥è¯¢å’Œè¿‡æ»¤
- å®æ—¶æ—¥å¿—æ›´æ–°
- ç”¨æˆ·è¡Œä¸ºè¿½è¸ª

### è®¿é—®ç•Œé¢

å¯åŠ¨åå°ç®¡ç†ç³»ç»Ÿåï¼Œç›´æ¥è®¿é—®ï¼š
```
http://localhost:3000
```

é»˜è®¤ç™»å½•è´¦å·ï¼š`admin` / `admin123`

## ä¸‹ä¸€æ­¥è®¡åˆ’

### ç«‹å³å¯ä»¥åšçš„äº‹æƒ…ï¼š
1. âœ… åŸºç¡€åç«¯å·²å®Œæˆ
2. âœ… æ•°æ®åº“ç»“æ„å·²åˆ›å»º
3. âœ… åŸºç¡€APIå·²å¯ç”¨
4. ğŸ”„ å¯ä»¥é€šè¿‡APIæµ‹è¯•ç”¨æˆ·ç®¡ç†åŠŸèƒ½

### æ¥ä¸‹æ¥çš„å¼€å‘ï¼š
1. **é›†æˆç°æœ‰ä»£ç†æœåŠ¡**ï¼šä¿®æ”¹ `tunnel-proxy.js` ä½¿å…¶ä»æ•°æ®åº“è¯»å–ç”¨æˆ·è®¤è¯
2. **å®Œå–„å‰ç«¯ç•Œé¢**ï¼šåˆ›å»ºVue.jsç®¡ç†ç•Œé¢
3. **SSLè¯ä¹¦ç®¡ç†**ï¼šå®ç°è¯ä¹¦ä¸Šä¼ å’Œç®¡ç†åŠŸèƒ½
4. **ç›‘æ§åŠŸèƒ½**ï¼šæ·»åŠ å®æ—¶ç›‘æ§å’Œç»Ÿè®¡

### æµ‹è¯•é»˜è®¤è´¦å·ï¼š
- **ç®¡ç†å‘˜è´¦å·**ï¼šadmin / admin123
- **æµ‹è¯•ä»£ç†ç”¨æˆ·**ï¼štest_user / admin123

## ğŸš€ æœ€æ–°åŠŸèƒ½ - æ¨¡å—åŒ–ä»£ç†æœåŠ¡å™¨

### å·²å®ŒæˆåŠŸèƒ½ï¼š
âœ… **å®Œæ•´çš„åå°ç®¡ç†ç³»ç»Ÿ** (Express + MySQL + JWT)  
âœ… **å‰ç«¯ç®¡ç†ç•Œé¢** (Vue3 + Element Plus å•é¡µåº”ç”¨)  
âœ… **æ¨¡å—åŒ–ä»£ç†æœåŠ¡å™¨** (é‡æ„åçš„ä»£ç†æ¶æ„)  
âœ… **çŠ¶æ€åŒæ­¥ç®¡ç†** (APIæ§åˆ¶ä»£ç†æœåŠ¡å™¨å¯åœ)  
âœ… **ç”¨æˆ·è®¤è¯é›†æˆ** (æ•°æ®åº“è®¤è¯ + è¿æ¥é™åˆ¶)  
âœ… **è¿æ¥æ—¥å¿—è®°å½•** (ä¼šè¯è·Ÿè¸ª + è¯¦ç»†æ—¥å¿—)  

### å¯åŠ¨ç³»ç»Ÿï¼š

```bash
# 1. å¯åŠ¨åå°ç®¡ç†ç³»ç»Ÿ
npm run dev

# 2. é€šè¿‡APIå¯åŠ¨ä»£ç†æœåŠ¡å™¨
curl -X POST http://localhost:3000/api/proxy/servers/1/start \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json"

# 3. æµ‹è¯•ä»£ç†åŠŸèƒ½
curl -x http://test_user:admin123@localhost:8082 -s http://httpbin.org/ip
```

### ç®¡ç†ç•Œé¢ï¼š
- **è®¿é—®åœ°å€**: http://localhost:3000
- **åŠŸèƒ½æ¨¡å—**: ä»ªè¡¨ç›˜ã€ç”¨æˆ·ç®¡ç†ã€æœåŠ¡å™¨ç®¡ç†ã€æ—¥å¿—æŸ¥çœ‹
- **çŠ¶æ€ç›‘æ§**: å®æ—¶æ˜¾ç¤ºä»£ç†æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€å’Œè¿æ¥ç»Ÿè®¡

### ä»£ç†æœåŠ¡å™¨ç‰¹æ€§ï¼š
- **æ¨¡å—åŒ–æ¶æ„**: é…ç½®ã€æ ¸å¿ƒã€ä¸­é—´ä»¶ã€å·¥å…·åˆ†ç¦»
- **æ•°æ®åº“è®¤è¯**: å®Œå…¨é›†æˆMySQLç”¨æˆ·éªŒè¯
- **è¿æ¥è·Ÿè¸ª**: IPå’Œç”¨æˆ·è¿æ¥æ•°é™åˆ¶
- **ä¼šè¯ç®¡ç†**: æ¯ä¸ªè¿æ¥çš„ç”Ÿå‘½å‘¨æœŸè·Ÿè¸ª
- **ä¼˜é›…å…³é—­**: æ”¯æŒSIGTERM/SIGINTä¿¡å·å¤„ç†
- **çŠ¶æ€åŒæ­¥**: ç®¡ç†APIä¸ä»£ç†è¿›ç¨‹çŠ¶æ€å®æ—¶åŒæ­¥

ç°åœ¨æ‚¨å·²ç»æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„**ä¼ä¸šçº§éš§é“ä»£ç†ç®¡ç†ç³»ç»Ÿ**ï¼ğŸ‰ 