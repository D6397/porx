# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹éš§é“ä»£ç†ç®¡ç†ç³»ç»Ÿçš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ã€‚

## ğŸ¤ å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç°äº†bugæˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼š

1. åœ¨ [Issues](../../issues) ä¸­æœç´¢æ˜¯å¦å·²æœ‰ç±»ä¼¼é—®é¢˜
2. å¦‚æœæ²¡æœ‰ï¼Œè¯·åˆ›å»ºæ–°çš„Issue
3. æä¾›å°½å¯èƒ½è¯¦ç»†çš„ä¿¡æ¯ï¼š
   - é—®é¢˜æè¿°
   - å¤ç°æ­¥éª¤
   - æœŸæœ›è¡Œä¸º
   - å®é™…è¡Œä¸º
   - ç¯å¢ƒä¿¡æ¯ï¼ˆNode.jsç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰
   - ç›¸å…³æ—¥å¿—æˆ–æˆªå›¾

### æäº¤ä»£ç 

1. **Forké¡¹ç›®**
   ```bash
   # ç‚¹å‡»GitHubé¡µé¢ä¸Šçš„ForkæŒ‰é’®
   ```

2. **å…‹éš†æ‚¨çš„Fork**
   ```bash
   git clone https://github.com/your-username/proxy-admin-system.git
   cd proxy-admin-system
   ```

3. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/amazing-feature
   # æˆ–è€…ä¿®å¤bugï¼š
   git checkout -b fix/issue-description
   ```

4. **è®¾ç½®å¼€å‘ç¯å¢ƒ**
   ```bash
   # å®‰è£…ä¾èµ–
   npm install
   
   # å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
   cp .env.example .env
   
   # é…ç½®æ•°æ®åº“è¿æ¥
   # ç¼–è¾‘.envæ–‡ä»¶
   ```

5. **è¿›è¡Œæ›´æ”¹**
   - ç¼–å†™ä»£ç 
   - æ·»åŠ æµ‹è¯•ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
   - æ›´æ–°æ–‡æ¡£ï¼ˆå¦‚æœéœ€è¦ï¼‰

6. **æµ‹è¯•æ‚¨çš„æ›´æ”¹**
   ```bash
   # è¿è¡Œåº”ç”¨
   npm run dev
   
   # è¿è¡Œæµ‹è¯•
   npm test
   
   # æ£€æŸ¥æ˜¯å¦æœ‰å®‰å…¨æ¼æ´
   npm audit
   ```

7. **æäº¤æ›´æ”¹**
   ```bash
   git add .
   git commit -m "feat: æ·»åŠ ä»¤äººæƒŠå¹çš„åŠŸèƒ½"
   ```

8. **æ¨é€åˆ°æ‚¨çš„Fork**
   ```bash
   git push origin feature/amazing-feature
   ```

9. **åˆ›å»ºPull Request**
   - è®¿é—®GitHubä¸Šçš„åŸé¡¹ç›®
   - ç‚¹å‡»"New Pull Request"
   - å¡«å†™PRæè¿°æ¨¡æ¿

## ğŸ“ ä»£ç è§„èŒƒ

### æäº¤ä¿¡æ¯æ ¼å¼

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```
<ç±»å‹>[å¯é€‰èŒƒå›´]: <æè¿°>

[å¯é€‰æ­£æ–‡]

[å¯é€‰è„šæ³¨]
```

**ç±»å‹ï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ä¿®æ”¹
- `refactor`: é‡æ„
- `test`: æ·»åŠ æµ‹è¯•
- `chore`: ç»´æŠ¤æ€§å·¥ä½œ

**ç¤ºä¾‹ï¼š**
```
feat(ssl): æ·»åŠ SSLè¯ä¹¦è‡ªåŠ¨ç»­æœŸåŠŸèƒ½
fix(auth): ä¿®å¤JWT tokenè¿‡æœŸé—®é¢˜
docs(api): æ›´æ–°APIæ¥å£æ–‡æ¡£
```

### ä»£ç é£æ ¼

- ä½¿ç”¨2ä¸ªç©ºæ ¼ç¼©è¿›
- ä½¿ç”¨å•å¼•å·å­—ç¬¦ä¸²
- å‡½æ•°å’Œå˜é‡ä½¿ç”¨é©¼å³°å‘½å
- ç±»ä½¿ç”¨å¸•æ–¯å¡å‘½å
- æ–‡ä»¶åä½¿ç”¨å°å†™ï¼Œç”¨çŸ­æ¨ªçº¿åˆ†éš”
- æ·»åŠ æœ‰æ„ä¹‰çš„æ³¨é‡Š

### JavaScriptè§„èŒƒ

```javascript
// å¥½çš„ç¤ºä¾‹
const serverConfig = {
  name: 'proxy-server',
  port: 3000,
  ssl: {
    enabled: true,
    certPath: '/path/to/cert'
  }
};

function createProxyServer(config) {
  // æ·»åŠ è¯¦ç»†æ³¨é‡Šè¯´æ˜å¤æ‚é€»è¾‘
  if (!config.port) {
    throw new Error('Port is required');
  }
  
  return new ProxyServer(config);
}
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

äº†è§£é¡¹ç›®ç»“æ„æœ‰åŠ©äºæ‚¨æ›´å¥½åœ°è´¡çŒ®ï¼š

```
prox/
â”œâ”€â”€ server/          # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ models/      # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/      # APIè·¯ç”±
â”‚   â”œâ”€â”€ middleware/  # ä¸­é—´ä»¶
â”‚   â””â”€â”€ services/    # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ web/            # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/        # æºä»£ç 
â”‚   â””â”€â”€ public/     # é™æ€æ–‡ä»¶
â”œâ”€â”€ scripts/        # æ•°æ®åº“è„šæœ¬
â””â”€â”€ docs/          # æ–‡æ¡£
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
npm test -- --grep "SSL"

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### ç¼–å†™æµ‹è¯•

ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ï¼š

```javascript
// tests/ssl.test.js
describe('SSLè¯ä¹¦ç®¡ç†', () => {
  it('åº”è¯¥èƒ½å¤Ÿä¸Šä¼ SSLè¯ä¹¦', async () => {
    const response = await request(app)
      .post('/api/proxy/servers/1/ssl-upload')
      .attach('cert', 'test-cert.pem')
      .expect(200);
      
    expect(response.body.success).toBe(true);
  });
});
```

## ğŸ“‹ Pull Requestæ£€æŸ¥æ¸…å•

åœ¨æäº¤PRä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] æ·»åŠ äº†é€‚å½“çš„æµ‹è¯•
- [ ] æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æäº¤ä¿¡æ¯æ ¼å¼æ­£ç¡®
- [ ] æ²¡æœ‰å¼•å…¥æ–°çš„å®‰å…¨æ¼æ´
- [ ] åŠŸèƒ½åœ¨ä¸åŒæµè§ˆå™¨ä¸­æ­£å¸¸å·¥ä½œ

## ğŸš€ å¼€å‘å·¥ä½œæµ

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶è‡ªåŠ¨é‡å¯
nodemon server/app.js
```

### æ•°æ®åº“æ“ä½œ

```bash
# é‡ç½®æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
npm run db:reset

# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run db:migrate

# å¡«å……æµ‹è¯•æ•°æ®
npm run db:seed
```

## ğŸ› è°ƒè¯•æŒ‡å—

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦è¿è¡Œ
   - éªŒè¯.envæ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®

2. **ç«¯å£å†²çª**
   - ä½¿ç”¨`lsof -i :3000`æ£€æŸ¥ç«¯å£å ç”¨
   - ä¿®æ”¹ç¯å¢ƒå˜é‡ä¸­çš„ç«¯å£è®¾ç½®

3. **ä¾èµ–å®‰è£…å¤±è´¥**
   - æ¸…é™¤npmç¼“å­˜ï¼š`npm cache clean --force`
   - åˆ é™¤node_modulesé‡æ–°å®‰è£…

### è°ƒè¯•æŠ€å·§

```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
DEBUG=app:* npm run dev

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/app.log

# æ£€æŸ¥è¿›ç¨‹çŠ¶æ€
ps aux | grep node
```

## ğŸ¯ å¼€å‘è·¯çº¿å›¾

æˆ‘ä»¬æ­£åœ¨å¼€å‘çš„åŠŸèƒ½ï¼š

- [ ] SSLè¯ä¹¦è‡ªåŠ¨ç»­æœŸ
- [ ] è´Ÿè½½å‡è¡¡æ”¯æŒ
- [ ] APIé™æµé˜²æŠ¤
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–
- [ ] å®æ—¶æ€§èƒ½ç›‘æ§

å¦‚æœæ‚¨æƒ³å‚ä¸è¿™äº›åŠŸèƒ½çš„å¼€å‘ï¼Œè¯·æŸ¥çœ‹ç›¸å…³Issuesæˆ–åˆ›å»ºæ–°çš„è®¨è®ºã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼š

- åˆ›å»ºIssueï¼š[GitHub Issues](../../issues)
- å‚ä¸è®¨è®ºï¼š[GitHub Discussions](../../discussions)

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ ğŸ‰ 